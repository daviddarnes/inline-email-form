<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Inline email form</title>
  <link href="styles.css" media="all" rel="stylesheet">
  <link href="inlineform.css" media="all" rel="stylesheet">
</head>
<body>

  <section class="content">

  <div class="inlineemailform">

    <label for="checkbox" class="toggle">Click me!</label>

    <input type="checkbox" id="checkbox" name="checkbox">

    <form id="inlineemailform" class="form" method="POST">

      <input type="hidden" name="_subject" value="Inline form contact" />

      <div class="formgroup">
        <span class="label" class="to">To:</span> <span id="reciever" class="reciever"></span>
      </div>

      <div class="formgroup">
         <label class="label" for="subject">Subject:</label> <input type="text" name="subject" required>
       </div>

      <div class="formgroup  formgroup--from">
        <label class="label" for="_replyto">From:</label> <input type="email" name="_replyto" placeholder="email@website.com" required>
      </div>

      <div class="formgroup  formgroup--message">
         <textarea name="message" placeholder="Just sayin' hi..."></textarea>
      </div>

      <input type="text" name="_gotcha" style="display:none" />
      <input type="hidden" name="_next" value="/inline-email-form#thanks" />

      <div class="formgroup  formgroup--send">
         <input class="submit" type="submit" value="Send">
      </div>

      <div class="thanks">
	      <span class="tick">&#10003;</span>
	      <p>Thanks!</p>
      </div>

    </form>

  </div>
  <br/>
  <p>Inspired by <a href="https://dribbble.com/shots/2197764-Inline-email-form">Mike Stezycki</a>, who was inspired by <a href="https://twitter.com/pixxel/status/631409650001424384">Mark Collins</a>.</p>
  <p><strong>Note:</strong> If you're testing this out please use your own email address,<br/>that way I can reply and confirm that it really does work!</p>

  </section>

  <a href="https://github.com/daviddarnes/inline-email-form" class="github-corner"><svg width="80px" height="80px" viewBox="0 0 250 250" style="position: absolute; top: 0px; left: 0px; border: 0px; transform: scale(-1, 1);"><path d="M0.592022922,0.00715558039 L112.431614,111.846747 C158.285357,157.70049 249.992844,249.407977 249.992844,249.407977 L249.993552,0.00715558039 L0.592022922,0.00715558039 Z" fill="#ffffff"></path><path class="octo-arm" d="M128.31088,109.021433 C113.848425,99.7251004 118.962929,89.5972099 118.962929,89.5972099 C121.956112,82.7191823 120.469773,78.6080634 120.469773,78.6080634 C119.245772,72.0835892 123.357597,76.3043095 123.357597,76.3043095 C127.344265,80.8934326 125.502959,87.2503225 125.502959,87.2503225 C122.783427,97.5868094 130.851515,101.880362 134.379271,103.225986" fill="#151513" style="transform-origin: 130px 106px;"></path><path class="octo-body" d="M114.879684,115.112005 C114.879684,115.112005 118.658285,116.503089 119.786121,115.375254 C120.804354,114.35702 124.128463,110.953715 127.678139,107.36727 C131.950856,102.998386 130.784544,104.164698 133.74653,101.571823 C136.889619,99.1952367 139.879974,98.4181264 142.167465,98.5729828 C133.762793,88.0088075 127.453987,74.3772029 143.81573,58.0154591 C148.477685,53.3535041 153.954935,51.2123848 159.676843,50.9535837 C160.308996,49.4347183 163.190456,43.6300788 171.390774,40.0669677 C171.390774,40.0669677 176.124146,42.5050719 178.759533,56.1897094 C183.111776,58.6497339 187.239158,61.8281789 190.884293,65.4407874 C194.496902,69.0859229 197.678175,73.2161336 200.144564,77.5747398 C213.819302,80.2002273 216.252456,84.9286503 216.252456,84.9286503 C212.695002,93.1346245 206.889655,96.0153775 205.37079,96.647531 C205.118353,102.375803 202.96592,107.841738 198.303965,112.503693 C181.90333,128.904328 168.302838,122.526225 157.737249,114.074885 C157.943724,116.931596 156.709823,120.89493 152.725983,124.878769 C147.01256,130.592192 142.364747,135.14101 140.958312,136.547445 C139.821991,137.683766 141.627028,141.859349 141.627028,141.859349" fill="#151513"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  
  <script>
    var contactform =  document.getElementById('inlineemailform');
    var reciever =  document.getElementById('reciever');
    var email = 'me' + '@' + 'daviddarnes' + '.' + 'com';
      contactform.setAttribute('action', 'https://formspree.io/' + email);
      reciever.textContent = email;

    function isParent(parent, child) {
      var node = child.parentNode;
      while (node != null) {
        if (node == parent) {
          return true;
        }
        node = node.parentNode;
      }
      return false;
    }

    var checkbox = document.querySelector('input[name="checkbox"]');
    var form = document.querySelector('.inlineemailform');
    document.addEventListener('click', function(e) {
      if (!isParent(form, e.target) && checkbox.checked == true) {
        checkbox.checked = false;
      }
    });
  </script>

</body>
